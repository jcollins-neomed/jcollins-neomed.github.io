<select id="categorySelect">
  <option value="">--Choose a dominant city--</option>
  <option value="Cleveland">Cleveland</option>
  <option value="Akron">Akron</option>
  <option value="Youngstown">Youngstown</option>
  <option value="Columbus">Columbus</option>
</select>
<button onclick="searchCSV()">Search</button>

<div id="result"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>

<script>
document.getElementById('fileInput').addEventListener('change', function (e) {
  const file = e.target.files[0];
  
  Papa.parse(file, {
    header: true,          // Use the first row as column headers
    skipEmptyLines: true,  // Ignore blank rows
    complete: function (results) {
      const selected = document.getElementById('dropdown').value.trim().toLowerCase();

      // Filter rows where Dominant City matches selected value
      const matches = results.data
        .filter(row => row['Dominant City'] &&
                       row['Dominant City'].trim().toLowerCase() === selected)
        .map(row => row['Student ID']); // Collect Student IDs

      // Display the results
      const resultDiv = document.getElementById('result');
      resultDiv.innerHTML = matches.length
        ? `<strong>Matches:</strong><ul>${matches.map(m => `<li>${m}</li>`).join('')}</ul>`
        : 'No matches found.';
    }
  });
});
</script>
